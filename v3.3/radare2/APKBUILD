# Maintainer: Jose-Luis Rivas <me@ghostbar.co>
pkgname=radare2
pkgver=0.10.0
pkgrel=0
pkgdesc="unix-like reverse-engineering framework and commandline tools"
url="http://www.radare.org"
arch="all"
license="GPL3"
depends=""
depends_dev=""
makedepends="$depends_dev"
install=""
subpackages="$pkgname-dev $pkgname-doc"
source="${pkgname}-${pkgver}.tar.gz::https://github.com/radare/radare2/archive/${pkgver}.tar.gz"
_builddir="$srcdir/$pkgname-${pkgver}"

prepare() {
  local i
  cd "$_builddir"
  for i in $source; do
  case $i in
  *.patch) msg $i; patch -p1 -i "$srcdir"/$i || return 1;;
  esac
  done
}

build() {
  cd "$_builddir"
  ./configure --prefix=/usr || exit 1
  make
}

package() {
  cd "$_builddir"
  make DESTDIR="$pkgdir" install
  install -D -m644 man/* "$pkgdir/usr/share/man/man1/"
}

md5sums="3ffed0d1398bb6cd81d135d92cfd231b  radare2-0.10.0.tar.gz"
sha256sums="23dcfc951e243b1dc1b8f9981712e061607c966c63397b5db77a0f338983ec7f  radare2-0.10.0.tar.gz"
sha512sums="d50af3ae223313c41bb5a7a07e4d96d111579dc772e9f7ffe698260c55c518eb8861ac7e7db8b5d4b4cba8e16728ffd890c0c9e56f2ca34c31bb0d9f1e5c036e  radare2-0.10.0.tar.gz"
